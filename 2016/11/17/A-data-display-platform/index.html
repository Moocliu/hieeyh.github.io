<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>基于vue、vuex、vue-router、echarts搭建的数据展示平台 | Hieeyh&#39;s blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="vue,vuex,vue-router,echarts," />
  

  <meta name="description" content="真的好久没有更新博客了，但是我最近并没有偷懒哦，一直在学习vue这个框架，并且用它做了一个小项目，现在就给大家分享一下我的这个还比较有意思的小项目，项目是基于vue2.0开发的。
灵感来源这是一个数据可视化相关的项目，作为一个学生班主任，需要对班上同学的各方面的情况都有所了解，于是我便做了一个问卷调查来了解学生各方面的情况。然后我又想到可以分析我们班的群聊记录呀，根据群聊记录可以得到班上同学之间的">
<meta property="og:type" content="article">
<meta property="og:title" content="基于vue、vuex、vue-router、echarts搭建的数据展示平台">
<meta property="og:url" content="http://yuhan.com/2016/11/17/A-data-display-platform/index.html">
<meta property="og:site_name" content="Hieeyh's blog">
<meta property="og:description" content="真的好久没有更新博客了，但是我最近并没有偷懒哦，一直在学习vue这个框架，并且用它做了一个小项目，现在就给大家分享一下我的这个还比较有意思的小项目，项目是基于vue2.0开发的。
灵感来源这是一个数据可视化相关的项目，作为一个学生班主任，需要对班上同学的各方面的情况都有所了解，于是我便做了一个问卷调查来了解学生各方面的情况。然后我又想到可以分析我们班的群聊记录呀，根据群聊记录可以得到班上同学之间的">
<meta property="og:updated_time" content="2016-12-05T13:10:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="基于vue、vuex、vue-router、echarts搭建的数据展示平台">
<meta name="twitter:description" content="真的好久没有更新博客了，但是我最近并没有偷懒哦，一直在学习vue这个框架，并且用它做了一个小项目，现在就给大家分享一下我的这个还比较有意思的小项目，项目是基于vue2.0开发的。
灵感来源这是一个数据可视化相关的项目，作为一个学生班主任，需要对班上同学的各方面的情况都有所了解，于是我便做了一个问卷调查来了解学生各方面的情况。然后我又想到可以分析我们班的群聊记录呀，根据群聊记录可以得到班上同学之间的">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=028c63b1" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  

  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b562041e145db0625df0be0bd27a9baa";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">导航</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">导航</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/project/"
            target="_self"
            >
            项目
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            target="_self"
            >
            关于我
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#灵感来源"><span class="toc-text">灵感来源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目初始构建"><span class="toc-text">项目初始构建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#项目文件解释"><span class="toc-text">项目文件解释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本页面实现"><span class="toc-text">基本页面实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建配置路由"><span class="toc-text">创建配置路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#怎么画图"><span class="toc-text">怎么画图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#几点说明"><span class="toc-text">几点说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实现登录功能"><span class="toc-text">实现登录功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#项目发布"><span class="toc-text">项目发布</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-A-data-display-platform" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">基于vue、vuex、vue-router、echarts搭建的数据展示平台</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2016.11.17</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>hieeyh</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/vue/">vue</a>
  </span>



      

    </div>
  </header>

  <div class="article-content">
    
      <p>真的好久没有更新博客了，但是我最近并没有偷懒哦，一直在学习vue这个框架，并且用它做了一个小项目，现在就给大家分享一下我的这个还比较有意思的小项目，项目是基于vue2.0开发的。</p>
<h2 id="灵感来源"><a href="#灵感来源" class="headerlink" title="灵感来源"></a>灵感来源</h2><p>这是一个数据可视化相关的项目，作为一个学生班主任，需要对班上同学的各方面的情况都有所了解，于是我便做了一个问卷调查来了解学生各方面的情况。然后我又想到可以分析我们班的群聊记录呀，根据群聊记录可以得到班上同学之间的亲密度和班级群聊活跃度等信息。自然而然，我就想着可以搭建一个平台来展示这些数据，既然是数据当然是以图表的方式来展示更加直观，然后折中选择了echarts这个图表库。至于为什么要选择用vue这个插件，之前只是觉得学习了vue刚好可以练练手，做完之后发现vue真的很轻量也很好上手，结合vuex和vue-router基本能完成我项目中的所有需求。      </p>
<blockquote>
<p>在线展示：<a href="http://119.29.57.165:8080/family" target="_blank" rel="external">http://119.29.57.165:8080/family</a>  （请用电脑打开，还没适配移动端）<br>源码：<a href="https://github.com/hieeyh/tong2-family" target="_blank" rel="external">https://github.com/hieeyh/tong2-family</a><br><strong>本教程是基于你已经有一定vue基础之上的，如果你还不了解什么是vue建议先去学习一下</strong></p>
</blockquote>
<h2 id="项目初始构建"><a href="#项目初始构建" class="headerlink" title="项目初始构建"></a>项目初始构建</h2><p>首先全局安装vue-cli，vue-cli是vue自己的项目构建工具，几个简单的步骤就可以帮助你快速构建一个vue项目。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g vue-cli</div></pre></td></tr></table></figure></p>
<p>然后，利用vue-cli构建一个vue项目<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 创建一个基于 &quot;webpack&quot; 模板的新项目</div><div class="line">$ vue init webpack family</div><div class="line"># 安装项目依赖</div><div class="line">$ cd family</div><div class="line">$ npm install</div></pre></td></tr></table></figure></p>
<h3 id="项目文件解释"><a href="#项目文件解释" class="headerlink" title="项目文件解释"></a>项目文件解释</h3><ul>
<li>build中是webpack基本配置文件，开发环境配置文件，生产环节配置文件</li>
<li>node_modules是各种依赖模块</li>
<li>src中是vue组件及入口文件</li>
<li>static中放置静态文件（群聊分析之后得到的json数据就放在这里）</li>
<li>index.html是页面入口文件</li>
</ul>
<h2 id="基本页面实现"><a href="#基本页面实现" class="headerlink" title="基本页面实现"></a>基本页面实现</h2><p>项目创建好之后，就开始实现自己想要的页面了，修改src文件夹下的App.vue文件，如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"#app"</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 导航栏 --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-head</span>&gt;</span><span class="tag">&lt;/<span class="name">my-head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-nav</span>&gt;</span><span class="tag">&lt;/<span class="name">my-nav</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">transition</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-foot</span>&gt;</span><span class="tag">&lt;/<span class="name">my-foot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">import myHead from './components/header'</div><div class="line">import myNav from './components/nav'</div><div class="line">import myFoot from './components/foot'</div><div class="line"></div><div class="line">export default &#123;</div><div class="line">  name: 'app',</div><div class="line">  components: &#123;</div><div class="line">    myHead,</div><div class="line">    myNav,</div><div class="line">    myFoot</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>myHead组件是页面头部，myNav组件是页面左侧导航栏，myFoot是页面底部，router-view组件是vue-router中渲染路径匹配到的视图组件。每个组件的具体实现可以去github项目地址去看源码。</p>
<h2 id="创建配置路由"><a href="#创建配置路由" class="headerlink" title="创建配置路由"></a>创建配置路由</h2><p>显然，我要做的是一个单页面应用，要用到vue-router，先安装vue-router，输入如下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save vue-router</div></pre></td></tr></table></figure></p>
<p>然后，在src文件夹下面的main.js文件中添加路由相关的代码，如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></div><div class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></div><div class="line"></div><div class="line">Vue.use(VueRouter) </div><div class="line"><span class="comment">// 定义路由组件</span></div><div class="line"><span class="keyword">const</span> Worldcloud = <span class="built_in">require</span>(<span class="string">'./components/cloud.vue'</span>)</div><div class="line"><span class="keyword">const</span> Building = <span class="built_in">require</span>(<span class="string">'./components/building.vue'</span>)</div><div class="line"><span class="keyword">const</span> Canteen = <span class="built_in">require</span>(<span class="string">'./components/canteen.vue'</span>)</div><div class="line"><span class="keyword">const</span> Selfstudy = <span class="built_in">require</span>(<span class="string">'./components/selfstudy.vue'</span>)</div><div class="line"><span class="keyword">const</span> Difficult = <span class="built_in">require</span>(<span class="string">'./components/difficult.vue'</span>)</div><div class="line"><span class="keyword">const</span> Interest = <span class="built_in">require</span>(<span class="string">'./components/interest.vue'</span>)</div><div class="line"><span class="keyword">const</span> Bedroom = <span class="built_in">require</span>(<span class="string">'./components/bedroom.vue'</span>)</div><div class="line"><span class="keyword">const</span> Graduate = <span class="built_in">require</span>(<span class="string">'./components/graduate.vue'</span>)</div><div class="line"><span class="keyword">const</span> Getup = <span class="built_in">require</span>(<span class="string">'./components/getup.vue'</span>)</div><div class="line"><span class="keyword">const</span> Gotobed = <span class="built_in">require</span>(<span class="string">'./components/gotobed.vue'</span>)</div><div class="line"><span class="keyword">const</span> Eat = <span class="built_in">require</span>(<span class="string">'./components/eat.vue'</span>)</div><div class="line"><span class="keyword">const</span> Amuse = <span class="built_in">require</span>(<span class="string">'./components/amuse.vue'</span>)</div><div class="line"><span class="keyword">const</span> Single = <span class="built_in">require</span>(<span class="string">'./components/single.vue'</span>)</div><div class="line"><span class="keyword">const</span> Chat = <span class="built_in">require</span>(<span class="string">'./components/chat.vue'</span>)</div><div class="line"><span class="keyword">const</span> Onlyme = <span class="built_in">require</span>(<span class="string">'./components/onlyme.vue'</span>)</div><div class="line"></div><div class="line"><span class="comment">// 定义路由，配置路由映射</span></div><div class="line"><span class="keyword">const</span> routes = [</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/'</span>, <span class="attr">redirect</span>: <span class="string">'/wordcloud'</span> &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/wordcloud'</span>, <span class="attr">component</span>: Worldcloud &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/building'</span>, <span class="attr">component</span>: Building &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/canteen'</span>, <span class="attr">component</span>: Canteen &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/selfstudy'</span>, <span class="attr">component</span>: Selfstudy &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/difficult'</span>, <span class="attr">component</span>: Difficult &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/interest'</span>, <span class="attr">component</span>: Interest &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/bedroom'</span>, <span class="attr">component</span>: Bedroom &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/graduate'</span>, <span class="attr">component</span>: Graduate &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/getup'</span>, <span class="attr">component</span>: Getup &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/gotobed'</span>, <span class="attr">component</span>: Gotobed &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/eat'</span>, <span class="attr">component</span>: Eat &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/amuse'</span>, <span class="attr">component</span>: Amuse &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/single'</span>, <span class="attr">component</span>: Single &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/chat'</span>, <span class="attr">component</span>: Chat &#125;,</div><div class="line">  &#123; <span class="attr">path</span>: <span class="string">'/onlyme'</span>, <span class="attr">component</span>: Onlyme &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#app'</span>,</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;App/&gt;'</span>,</div><div class="line">  <span class="attr">components</span>: &#123; App &#125;,</div><div class="line">  router</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>从路由映射的配置中可以看出，访问网站的根路由会直接跳转到/wordcloud。路由映射的组件中用到了百度的<a href="http://echarts.baidu.com/" target="_blank" rel="external">echarts</a>库来画图，这是一个很好用的图表库。</p>
<h2 id="怎么画图"><a href="#怎么画图" class="headerlink" title="怎么画图"></a>怎么画图</h2><p>怎么用echarts画图呢？其实官网上有很多实例，下面以bedroom.vue组件为例来简单说明，bedroom.vue代码如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main_content"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"bedroom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">'echarts'</span></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    data() &#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">chart</span>: <span class="literal">null</span>,</div><div class="line">        <span class="attr">opinion</span>: [<span class="string">'学习氛围差'</span>, <span class="string">'学习氛围一般'</span>, <span class="string">'学习氛围很好'</span>],</div><div class="line">        <span class="attr">opinionData</span>: [</div><div class="line">          &#123;<span class="attr">value</span>:<span class="number">26</span>, <span class="attr">name</span>:<span class="string">'学习氛围差'</span>&#125;,</div><div class="line">          &#123;<span class="attr">value</span>:<span class="number">31</span>, <span class="attr">name</span>:<span class="string">'学习氛围一般'</span>&#125;,</div><div class="line">          &#123;<span class="attr">value</span>:<span class="number">8</span>, <span class="attr">name</span>:<span class="string">'学习氛围很好'</span>&#125;</div><div class="line">        ]</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">methods</span>: &#123;</div><div class="line">      drawPie (id) &#123;</div><div class="line">        <span class="keyword">this</span>.chart = echarts.init(<span class="built_in">document</span>.getElementById(id))</div><div class="line">        <span class="keyword">this</span>.chart.setOption(&#123;</div><div class="line">          <span class="attr">title</span>: &#123;</div><div class="line">            <span class="attr">text</span>: <span class="string">'寝室学习氛围情况调查'</span>,</div><div class="line">            <span class="attr">left</span>: <span class="string">'center'</span>,</div><div class="line">            <span class="attr">top</span>: <span class="number">10</span>,</div><div class="line">            <span class="attr">textStyle</span>: &#123;</div><div class="line">              <span class="attr">fontSize</span>: <span class="number">24</span>,</div><div class="line">              <span class="attr">fontFamily</span>: <span class="string">'Helvetica'</span>,</div><div class="line">              <span class="attr">fontWeight</span>: <span class="number">400</span></div><div class="line">            &#125;</div><div class="line">          &#125;,</div><div class="line">          <span class="attr">tooltip</span>: &#123;</div><div class="line">            <span class="attr">trigger</span>: <span class="string">'item'</span>,</div><div class="line">            <span class="attr">formatte</span>: <span class="string">"&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)"</span></div><div class="line">          &#125;,</div><div class="line">          <span class="attr">toolbox</span>: &#123;</div><div class="line">            <span class="attr">feature</span>: &#123;</div><div class="line">              <span class="attr">saveAsImage</span>: &#123;&#125;,</div><div class="line">              <span class="attr">dataView</span>: &#123;&#125;</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">right</span>: <span class="number">15</span>,</div><div class="line">            <span class="attr">top</span>: <span class="number">10</span></div><div class="line">          &#125;,</div><div class="line">          <span class="attr">legend</span>: &#123;</div><div class="line">              <span class="attr">orient</span>: <span class="string">'vertical'</span>,</div><div class="line">              <span class="attr">left</span>: <span class="number">5</span>,</div><div class="line">              <span class="attr">top</span>: <span class="number">10</span>,</div><div class="line">              <span class="attr">data</span>: <span class="keyword">this</span>.opinion,</div><div class="line">          &#125;,</div><div class="line">          <span class="attr">series</span>: [</div><div class="line">            &#123;</div><div class="line">              <span class="attr">name</span>: <span class="string">'寝室学习氛围'</span>,</div><div class="line">              <span class="attr">type</span>: <span class="string">'pie'</span>,</div><div class="line">              <span class="attr">radius</span>: [<span class="string">'50%'</span>, <span class="string">'70%'</span>],</div><div class="line">              <span class="attr">center</span>: [<span class="string">'50%'</span>, <span class="string">'60%'</span>],</div><div class="line">              <span class="attr">avoidLabelOverlap</span>: <span class="literal">false</span>,</div><div class="line">              <span class="attr">label</span>: &#123;</div><div class="line">                <span class="attr">emphasis</span>: &#123;</div><div class="line">                  <span class="attr">show</span>: <span class="literal">true</span>,</div><div class="line">                  <span class="attr">textStyle</span>: &#123;</div><div class="line">                    <span class="attr">fontSize</span>: <span class="string">'24'</span>,</div><div class="line">                    <span class="attr">fontWeight</span>: <span class="string">'bold'</span></div><div class="line">                  &#125;</div><div class="line">                &#125;</div><div class="line">              &#125;,</div><div class="line">              <span class="attr">labelLine</span>: &#123;</div><div class="line">                <span class="attr">normal</span>: &#123;</div><div class="line">                  <span class="attr">show</span>: <span class="literal">false</span></div><div class="line">                &#125;</div><div class="line">              &#125;,</div><div class="line">              <span class="attr">data</span>: <span class="keyword">this</span>.opinionData,</div><div class="line">              <span class="attr">itemStyle</span>: &#123;</div><div class="line">                <span class="attr">emphasis</span>: &#123;</div><div class="line">                  <span class="attr">shadowBlur</span>: <span class="number">10</span>,</div><div class="line">                  <span class="attr">shadowOffset</span>: <span class="number">0</span>,</div><div class="line">                  <span class="attr">shadowColor</span>: <span class="string">'rgba(0, 0, 0, 0.5)'</span></div><div class="line">                &#125;</div><div class="line">              &#125;</div><div class="line">            &#125;</div><div class="line">          ]</div><div class="line">        &#125;)</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    mounted() &#123;</div><div class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.drawPie(<span class="string">'bedroom'</span>)</div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line">#bedroom &#123;</div><div class="line">  position: relative;</div><div class="line">  left: 50%;</div><div class="line">  margin-left: -400px;</div><div class="line">  margin-bottom: 70px;</div><div class="line">  width: 800px;</div><div class="line">  height: 600px;</div><div class="line">  border: solid #D01257 1px;</div><div class="line">  box-shadow: 0 0 8px #FB90B7;</div><div class="line">  border-radius: 10px;</div><div class="line">&#125;   </div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这是一个vue的单文件组件，script中，首先导入echarts库，前提是已经安装了echarts库，输入以下命令安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save echarts</div></pre></td></tr></table></figure></p>
<p>data对象中是画图要用到的一些数据，drawpie方法用来画图，接收一个DOM对象，然后在mounted构子函数中调用drawpie即可。</p>
<h4 id="几点说明"><a href="#几点说明" class="headerlink" title="几点说明"></a>几点说明</h4><ol>
<li>drawpie方法接收的DOM对象需要有确定的宽高，否则图像不显示</li>
<li>mounted中要包含vm.$nextTick才能保证该实例已经插入文档</li>
<li>想要进一步了解echarts画图相关的可以看看我的另一篇博客<a href="http://hyuhan.com/2016/11/19/how-to-use-echarts/" target="_blank" rel="external">echarts画图实例讲解</a></li>
</ol>
<h2 id="实现登录功能"><a href="#实现登录功能" class="headerlink" title="实现登录功能"></a>实现登录功能</h2><p>登录功能基于vuex（vue状态管理）和浏览器的sessionStorage实现的。首先在src文件夹下新建store文件夹，存放vuex的store（仓库）,新建三个文件store.js、login.js、user.js。login.js中存储登录状态，user.js中存储用户登录信息，store.js加载login和user模块。</p>
<p><strong>注意</strong>：在store.js中要引入babel-polyfill（先安装），否则会报错，报错原因是Babel默认只转换新的JavaScript句法，而不转换新的API，比如Iterator、Generator、Set、Maps、Promise等全局对象，以及一些定义在全局对象上的方法。所以必须使用babel-polyfill，为当前环境提供一个垫片。</p>
<p>然后修改main.js文件，引入store：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/store'</span></div><div class="line">...</div><div class="line">...</div><div class="line">new Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#app'</span>,</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;App/&gt;'</span>,</div><div class="line">  <span class="attr">components</span>: &#123; App &#125;,</div><div class="line">  router,</div><div class="line">  store</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>修改App.vue文件，如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"#app"</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 导航栏 --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-head</span>&gt;</span><span class="tag">&lt;/<span class="name">my-head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-nav</span>&gt;</span><span class="tag">&lt;/<span class="name">my-nav</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">transition</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-mask</span> <span class="attr">v-if</span>=<span class="string">"canlogin"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-mask</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-login</span> <span class="attr">v-if</span>=<span class="string">"canlogin"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-login</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-foot</span>&gt;</span><span class="tag">&lt;/<span class="name">my-foot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">...</div><div class="line">import myMask <span class="keyword">from</span> <span class="string">'./components/mask'</span></div><div class="line"><span class="keyword">import</span> myLogin <span class="keyword">from</span> <span class="string">'./components/login'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  ...</div><div class="line">  data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">canlogin</span>: <span class="literal">false</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">computed</span>: &#123;</div><div class="line">    canlogin() &#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.$store.state.login.islogin</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>到此，就基本上大功告成了，在命令行中输入 npm run dev预览一下。</p>
<h2 id="项目发布"><a href="#项目发布" class="headerlink" title="项目发布"></a>项目发布</h2><p>项目可以在本地预览了，但是要怎么发布到网上呢？首先，在命令行中输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run build</div></pre></td></tr></table></figure></p>
<p>会生成一个dist文件夹，该文件夹中就是我们可以用来发布的代码，直接将代码上传到你的服务器上就可以啦。</p>

    
  </div>

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>

  <span id="busuanzi_container_page_pv" style="line-height: 50px; font-size: 16px;">
    本文总阅读量：<span id="busuanzi_value_page_pv"></span>次
  </span>
</article>

</div>





  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/project/"
              target="_self"
              >
              项目
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              target="_self"
              >
              关于我
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    




    
  <section class="duoshuo-comments">
    <!-- 跟帖评论框 start -->
    <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    <!-- 跟帖评论框 end -->
  </section>



  <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>



  <script type="text/javascript">
    var cloudTieConfig = {
      url: document.location.href, 
      sourceId: "",
      productKey: "a5af0d1c98814710a9e617972e948fec",
      target: "cloud-tie-wrapper"
    };
    var yunManualLoad = true;
    Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
  </script>


  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
